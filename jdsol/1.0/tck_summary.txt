The TCK can be run mannually, by following the guide here: https://github.com/eclipse-ee4j/debugging-support-for-other-languages-tck


The case passed, below are the results: 

=========== postive test ==========
ruolli@ruolli-mac: build $ java -cp . VerifySMAP /Users/ruolli/Eclipse-GitHub/eclipse-glassfish/appserver/distributions/glassfish/target/stage/glassfish5/glassfish/domains/domain1/generated/jsp/jspExample/org/apache/jsp/index_jsp.class.smap 

/Users/ruolli/Eclipse-GitHub/eclipse-glassfish/appserver/distributions/glassfish/target/stage/glassfish5/glassfish/domains/domain1/generated/jsp/jspExample/org/apache/jsp/index_jsp.class.smap is a correctly formatted SMAP
===========

=========== negative test ==========

modify the *.smap file at line #22 :  “///dlepuhlhflda” .
making the *.smap file illegal in format. 

ruolli@ruolli-mac: jsp $ vi index_jsp.class.smap

  1 SMAP
  2 index_jsp.java
  3 JSP
  4 *S JSP
  5 *F
  6 + 0 index.jsp
  7 index.jsp
  8 *L
  9 1,4:45
 10 5,3:50
 11 7:53
 12 8:54,3
 13 9:57
 14 10,2:59
 15 11:61
 16 12:62,3
 17 13:65
 18 14,2:67
 19 15:69
 20 16,3:70,3
 21 ///dlepuhlhflda 
 22 19,3:79
 23 *E


ruolli@ruolli-mac: build $ java -cp . VerifySMAP /Users/ruolli/Eclipse-GitHub/eclipse-glassfish/appserver/distributions/glassfish/target/stage/glassfish5/glassfish/domains/domain1/generated/jsp/jspExample/org/apache/jsp/index_jsp.class.smap 

Assertion #1 failed - SMAP syntax error
/Users/ruolli/Eclipse-GitHub/eclipse-glassfish/appserver/distributions/glassfish/target/stage/glassfish5/glassfish/domains/domain1/generated/jsp/jspExample/org/apache/jsp/index_jsp.class.smap:21: Number expected
Exception in thread "main" VerifySMAP$AssertionViolationException: assertion #1 failed - SMAP syntax error
at VerifySMAP.error(Unknown Source)
at VerifySMAP.syntax(Unknown Source)
at VerifySMAP.readNumber(Unknown Source)
at VerifySMAP.lineLine(Unknown Source)
at VerifySMAP.lineSection(Unknown Source)
at VerifySMAP.decode(Unknown Source)
at VerifySMAP.main(Unknown Source)


===========
